<!DOCTYPE html>
<html lang="en">
	<head>
		<title>tween_demo</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</head>
	<body>
		<div
			id="target"
			style="
				position: absolute;
				top: 0px;
				left: 0px;
				width: 100px;
				height: 100px;
				background: #a0dde9;
				padding: 1em;
			"
		>
			hello world!
		</div>

		<script src="https://libs.cdnjs.net/tween.js/r14/Tween.js"></script>
		<script>
			var position
			var target
			var tween, tweenBack

			animate()
			function animate(time) {
				TWEEN.update()
				requestAnimationFrame(animate)
			}

			init()
			function init() {
				position = {x: 0, y: 0, rotation: 0}
				target = document.getElementById('target')
				tween = new TWEEN.Tween(position)
					.to({x: 200, y: 200, rotation: 360}, 3000)
					.easing(TWEEN.Easing.Linear.None)
					.onUpdate(update)

				tween.start()
			}
			// 根据position的变化进行修改css,实现dom动画
			function update() {
				target.style.left = position.x + 'px'
				target.style.top = position.y + 'px'
				target.style.webkitTransform = 'rotate(' + Math.floor(position.rotation) + 'deg)'
				target.style.MozTransform = 'rotate(' + Math.floor(position.rotation) + 'deg)'
			}
		</script>
	</body>
</html>
